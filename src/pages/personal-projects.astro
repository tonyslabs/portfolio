---
import Layout from "../layouts/Layout.astro";
import Project from "../components/Project.astro";
import Sidebar from "../components/Sidebar.astro";
import { projects } from "../data/personal";
---

<Layout
  title="Proyectos Personales | Tony Lacayo"
  description="Selected side projects and open source contributions."
  path="/personal-projects"
>
  <div class="content">
    <Sidebar selectedItem="personal-projects" />
    <main class="main">
      <div class="container">
        <div class="back-nav-container">
          <a href="/" class="back-nav-button w-inline-block">
            <img
              src="/assets/back.svg"
              loading="lazy"
              alt="Back icon"
              class="back-nav-img"
            />
            <div>Back</div>
          </a>
        </div>
        <div class="content-container">
          <h1>Proyectos Personales</h1>
          <section class="items-container">
            <div class="resouce-items">
              {
                projects.map((project) => (
                  <Project
                    title={project.title}
                    desc={project.desc}
                    tech={project.tech}
                    images={project.images}
                    repo={project.repo}
                    site={project.site}
                  />
                ))
              }
            </div>
          </section>
        </div>
      </div>
    </main>
  </div>
  <!-- Overlay global -->
<div id="overlay" class="overlay">
  <div class="overlay-content">
    <img id="overlay-img" src="" alt="expanded" />
  </div>
</div>

<style>
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.65);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 100;
  border-radius: 18px;
  overflow: hidden;
}
.overlay.active {
  display: flex;
}
.overlay-content {
  max-width: 70vw;     /* antes 90vw */
  max-height: 70vh;    /* antes 85vh */
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 0 25px rgba(255, 255, 255, 0.25);
}
.overlay img {
  width: auto;
  height: auto;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: inherit;
  animation: zoomIn 0.25s ease;
  cursor: zoom-out;
}

@keyframes zoomIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
</style>

</Layout>
